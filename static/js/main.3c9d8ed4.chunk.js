(this["webpackJsonpreact-fund-course"]=this["webpackJsonpreact-fund-course"]||[]).push([[0],{12:function(e,t,n){e.exports={container:"buttons_container__2tvmw",pageNumber:"buttons_pageNumber__3QIsn",taskBtn:"buttons_taskBtn__3tBvf",btn:"buttons_btn__1st_2",send:"buttons_send__G5Ncp",delete:"buttons_delete__1vmvX",main:"buttons_main__3TnVs"}},18:function(e,t,n){e.exports={pagination:"pagination_pagination__3H9HU",paginationCurrent:"pagination_paginationCurrent__1p5n_",page:"pagination_page__x4R6V"}},21:function(e,t,n){e.exports={modal:"modal_modal__3fUV_",modalContent:"modal_modalContent__wrt_P",active:"modal_active__13UOE"}},39:function(e,t,n){e.exports={input:"input_input__3Gu70"}},45:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(34),s=n.n(r),i=n(3),o=(n(45),n(17)),u=Object(c.createContext)(null),j=n(6),l=n(40),b=n(0),d=["children"],p=function(e){var t=e.children,n=Object(l.a)(e,d);return Object(b.jsx)("button",Object(j.a)(Object(j.a)({},n),{},{children:t}))},h=function(){var e=a.a.useContext(u).setIsAuth;return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{children:[Object(b.jsx)(p,{onClick:function(){e(!1),localStorage.removeItem("auth")},children:"Logout"}),Object(b.jsx)(o.b,{to:"/about",children:Object(b.jsx)(p,{children:"ABOUT"})}),Object(b.jsx)(o.b,{to:"/tasks",children:Object(b.jsx)(p,{children:"TASKS"})})]})})},O=n(2),x=n(5),f=n.n(x),v=n(11),m=n(14),g=n(12),_=n.n(g),y=function(e){var t=e.task,n=e.number,c=e.removeTask,a=Object(O.g)();return Object(b.jsxs)("div",{className:_.a.container,children:[Object(b.jsxs)("h3",{children:[Object(b.jsx)("span",{className:_.a.pageNumber,children:n}),t.title]}),Object(b.jsx)("div",{children:t.body}),Object(b.jsxs)("div",{className:_.a.taskBtn,children:[Object(b.jsx)("div",{children:Object(b.jsx)(p,{className:"".concat(_.a.btn," ").concat(_.a.send),onClick:function(){return a.push("/tasks/".concat(t.id))},children:"Open"})}),Object(b.jsx)("div",{children:Object(b.jsx)(p,{onClick:function(){return c(t)},className:_.a.btn+" "+_.a.delete,children:"Delete"})})]})]})},k=function(e){var t=e.tasks,n=e.removeTask;return 0===t.length?Object(b.jsx)("h1",{style:{color:"green"},children:"The tasks end"}):Object(b.jsx)("div",{children:t.map((function(e,t){return Object(b.jsx)(y,{number:e.id,task:e,removeTask:n},t)}))})},C=n(37),w=n(38),S=n(20),N=n.n(S),I=function(){function e(){Object(C.a)(this,e)}return Object(w.a)(e,null,[{key:"tegAll",value:function(){var e=Object(v.a)(f.a.mark((function e(t,n){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("https://jsonplaceholder.typicode.com/posts",{params:{_limit:t,_page:n}});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"geetById",value:function(){var e=Object(v.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("https://jsonplaceholder.typicode.com/posts/"+t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"geetCommentsById",value:function(){var e=Object(v.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("https://jsonplaceholder.typicode.com/posts/".concat(t,"/comments"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),A=n(39),T=n.n(A),B=function(e){return Object(b.jsx)("input",Object(j.a)(Object(j.a)({},e),{},{className:T.a.input}))},L=function(e){var t=e.defaultValue,n=e.onChange,c=e.value,a=e.options;return Object(b.jsxs)("select",{value:c,onChange:function(e){return n(e.target.value)},children:[Object(b.jsx)("option",{disabled:!0,value:"value1",children:t}),a.map((function(e){return Object(b.jsx)("option",{value:e.value,children:e.name},e.value)}))]})},P=function(e){var t=e.setFilter,n=e.filter;return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:Object(b.jsx)(B,{value:n.query,onChange:function(e){return t(Object(j.a)(Object(j.a)({},n),{},{query:e.target.value}))},placeholder:"Search"})}),Object(b.jsx)("div",{style:{marginBottom:"30px"},children:Object(b.jsx)(L,{options:[{value:"title",name:"Sort by title"},{value:"body",name:"Sort by text"}],defaultValue:"Sort by",value:n.sort,onChange:function(e){return t(Object(j.a)(Object(j.a)({},n),{},{sort:e}))}})})]})},V=function(e,t){return Math.ceil(e/t)},E=function(e){var t=a.a.useState(!1),n=Object(i.a)(t,2),c=n[0],r=n[1],s=a.a.useState(""),o=Object(i.a)(s,2),u=o[0],j=o[1];function l(){return l=Object(v.a)(f.a.mark((function t(){var n=arguments;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(!0),t.next=4,e.apply(void 0,n);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),j(t.t0.message);case 9:return t.prev=9,r(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])}))),l.apply(this,arguments)}return[function(){return l.apply(this,arguments)},c,u]},U=function(e,t,n){var c=function(e,t){return a.a.useMemo((function(){return t?Object(m.a)(e).sort((function(e,n){return e[t].localeCompare(n[t])})):e}),[t,e])}(e,t);return a.a.useMemo((function(){return c.filter((function(e){return e.title.toLowerCase().includes(n.toLowerCase())}))}),[n,c])},q=function(e){var t=e.createTask,n=a.a.useState({title:" ",body:" "}),c=Object(i.a)(n,2),r=c[0],s=c[1];return Object(b.jsxs)("form",{children:[Object(b.jsx)(B,{type:"text",placeholder:"Post name",onChange:function(e){return s(Object(j.a)(Object(j.a)({},r),{},{title:e.target.value}))},value:r.title}),Object(b.jsx)(B,{type:"text",placeholder:"Post body",value:r.body,onChange:function(e){return s(Object(j.a)(Object(j.a)({},r),{},{body:e.target.value}))}}),Object(b.jsx)(p,{onClick:function(e){e.preventDefault();var n=Object(j.a)(Object(j.a)({},r),{},{id:Date.now()});t(n),s({title:" ",body:" "})},className:_.a.main,children:"Add post"})]})},D=n(18),F=n.n(D),M=function(e){var t=e.totalPage,n=e.page,c=e.setPage,a=function(e){for(var t=[],n=0;n<e;n++)t.push(n+1);return t}(t);return Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:F.a.pagination,children:a.map((function(e){return Object(b.jsx)("span",{className:e===n?"".concat(F.a.paginationCurrent," ").concat(F.a.page):F.a.page,onClick:function(){return c(e)},children:e},e)}))})})},R=n(21),G=n.n(R),H=function(e){var t=e.children,n=e.visible,c=e.setVisible,a=[G.a.modal];return n&&a.push(G.a.active),Object(b.jsx)("div",{className:a.join(" "),onClick:function(){return c(!1)},children:Object(b.jsx)("div",{className:G.a.modalContent,onClick:function(e){return e.stopPropagation()},children:t})})};var J=function(){var e=Object(O.h)(),t=a.a.useState({}),n=Object(i.a)(t,2),r=n[0],s=n[1],o=a.a.useState([]),u=Object(i.a)(o,2),j=u[0],l=u[1],d=E(function(){var e=Object(v.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.geetById(t);case 2:n=e.sent,s(n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=Object(i.a)(d,2),h=p[0],x=p[1],m=E(function(){var e=Object(v.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.geetCommentsById(t);case 2:n=e.sent,l(n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g=Object(i.a)(m,1)[0];return Object(c.useEffect)((function(){h(e.id),g(e.id)}),[]),Object(b.jsx)("div",{children:x?Object(b.jsx)("strong",{children:"Loading"}):Object(b.jsxs)("div",{children:[Object(b.jsxs)("h3",{children:["The Page of the UserId #",r.id]}),Object(b.jsx)("hr",{}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Topic"}),":",r.title]}),Object(b.jsx)("p",{children:r.body}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:"Comments"}),Object(b.jsx)("hr",{}),j.map((function(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)("h5",{children:e.email}),e.body]})}))]})]})})},K=[{path:"/tasks/:id",component:J,exect:!0},{path:"/tasks",component:function(){var e=a.a.useState([]),t=Object(i.a)(e,2),n=t[0],c=t[1],r=a.a.useState({sort:"",query:""}),s=Object(i.a)(r,2),o=s[0],u=s[1],j=a.a.useState(!1),l=Object(i.a)(j,2),d=l[0],h=l[1],O=a.a.useState(10),x=Object(i.a)(O,2),g=x[0],_=x[1],y=a.a.useState(1),C=Object(i.a)(y,2),w=C[0],S=C[1],N=a.a.useState(0),A=Object(i.a)(N,2),T=A[0],B=A[1],D=a.a.useRef(),F=U(n,o.sort,o.query),R=E(Object(v.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.tegAll(g,w);case 2:t=e.sent,c([].concat(Object(m.a)(n),Object(m.a)(t.data))),a=t.headers["x-total-count"],B(V(a,g));case 6:case"end":return e.stop()}}),e)})))),G=Object(i.a)(R,3),J=G[0],K=G[1],Q=G[2];return function(e,t,n,c){var r=a.a.useRef();a.a.useEffect((function(){t||(r.current&&r.current.disconnect(),r.current=new IntersectionObserver((function(e){e[0].isIntersecting&&n&&c()})),r.current.observe(e.current))}),[t])}(D,K,w<T,(function(){S(w+1)})),a.a.useEffect((function(){J(g,w)}),[g,w]),Object(b.jsxs)("div",{children:[Object(b.jsx)(p,{onClick:J,children:"Fetch axios"}),Object(b.jsx)(p,{style:{marginTop:"20px"},onClick:function(){return h(!0)},children:"Add post"}),Object(b.jsx)(H,{visible:d,setVisible:h,children:Object(b.jsx)(q,{createTask:function(e){c([].concat(Object(m.a)(n),[e])),h(!1)}})}),Object(b.jsx)("hr",{style:{margin:"10px"}}),Object(b.jsx)(P,{filter:o,setFilter:u}),Q&&Object(b.jsx)("h1",{children:Q}),Object(b.jsx)(L,{defaultValue:"Score elements",onChange:function(e){return _(e)},value:g,options:[{value:5,name:"5"},{value:10,name:"10"},{value:-1,name:"All"}]}),K&&Object(b.jsx)("h1",{style:{marginBottom:"20px"},children:"Loading..."}),Object(b.jsx)(k,{tasks:F,removeTask:function(e){c(n.filter((function(t){return t.id!==e.id})))}}),Object(b.jsx)("div",{ref:D,style:{width:"100%",height:"2px"}}),Object(b.jsx)(M,{page:w,setPage:S,totalPage:T})]})},exect:!0},{path:"/about",component:function(){return Object(b.jsx)("div",{children:"About us"})},exect:!0}],Q=[{path:"/login",component:function(){var e=a.a.useContext(u).setIsAuth;return Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:"Login"}),Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(!0),localStorage.setItem("auth",!0)},children:[Object(b.jsx)(B,{type:"text",placeholder:"Login"}),Object(b.jsx)(B,{type:"password",placholder:"Password"}),Object(b.jsx)("div",{children:Object(b.jsx)(p,{children:"Login"})})]})]})},exect:!0}],X=function(){var e=a.a.useContext(u),t=e.isAuth;return e.isLoading?Object(b.jsx)("div",{children:"Loading..."}):t?Object(b.jsxs)(O.d,{children:[K.map((function(e,t){return Object(b.jsx)(O.b,{path:e.path,component:e.component,exect:e.exect},t)})),Object(b.jsx)(O.a,{to:"/tasks"})]}):Object(b.jsxs)(O.d,{children:[Q.map((function(e,t){return Object(b.jsx)(O.b,{path:e.path,component:e.component,exect:e.exect},t)})),Object(b.jsx)(O.a,{to:"/login"})]})};var z=function(){var e=a.a.useState(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],s=a.a.useState(!0),j=Object(i.a)(s,2),l=j[0],d=j[1];return Object(c.useEffect)((function(){localStorage.getItem("auth")&&(r(!0),d(!1))}),[]),Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(u.Provider,{value:{isAuth:n,setIsAuth:r,isLoading:l},children:Object(b.jsxs)(o.a,{children:[Object(b.jsx)(h,{}),Object(b.jsx)(X,{})]})})})};s.a.render(Object(b.jsx)(z,{}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.3c9d8ed4.chunk.js.map